import{o as v}from"./index.69c0a557.js";import{d as m,r as y,am as E,p as g,a7 as I,s as x}from"./entry.35cb4625.js";const K=m({props:{as:{type:String,default:"div"},nextKeys:{type:[Array,String],default:"PageDown"},prevKeys:{type:[Array,String],default:"PageUp"},prevent:{type:Boolean,default:!0}},setup(u,{slots:s}){const a=y(),o=new Map;let f=[],r=null,c=0;function i(){var n,t;for(const e of f)(n=e.node)==null||n.removeEventListener("focus",e.focusListener),(t=e.node)==null||t.removeEventListener("focusout",e.focusOutListener);f=[]}function d(){if(a.value){const n=document.createTreeWalker(a.value,NodeFilter.SHOW_ELEMENT,{acceptNode(e){return e.disabled||!e.isConnected?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});i(),o.clear();let t=0;for(;n.nextNode();){const e=n.currentNode,L=t;o.set(t,e);const l=()=>{r=L},p=()=>{r=null};e.addEventListener("focus",l),e.addEventListener("focusout",p),f.push({focusListener:l,focusOutListener:p,node:e}),c=t,t+=1}}}return E(d),g(d),I(i),v(u.nextKeys,n=>{var t,e;r!==null&&(u.prevent&&n.preventDefault(),r+1<=c?(t=o.get(r+1))==null||t.focus():(e=o.get(0))==null||e.focus())}),v(u.prevKeys,n=>{var t,e;r!==null&&(u.prevent&&n.preventDefault(),r>0?(t=o.get(r-1))==null||t.focus():(e=o.get(c))==null||e.focus())}),()=>{var n;return x(u.as,{ref:a},(n=s==null?void 0:s.default)==null?void 0:n.call(s))}}});export{K as _};